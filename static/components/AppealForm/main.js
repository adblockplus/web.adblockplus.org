(()=>{"use strict";const e={AppealForm:{currency:(t=adblock.settings.country,"GB"==t?"GBP":"AU"==t?"AUD":"CA"==t?"CAD":"RU"==t?"RUB":"JP"==t?"JPY":"MX"==t?"MXN":["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","GR","HU","IE","IT","LV","LT","LG","MT","NL","PL","PT","RO","SK","SI","ES","SE","DE","FR"].includes(t)?"EUR":"USD"),selected:3},Paddle:{sandbox:{vendor:7645,products:{USD:{once:{500:34508,1e3:34509,2e3:34510,3500:34511,5e3:34512},monthly:{199:34514,299:34515,399:34516,499:34517,999:34518},yearly:{500:34519,1e3:34520,2e3:34521,3500:34522,5e3:34523}},AUD:{once:{500:34524,1e3:34525,2e3:34526,3500:34527,5e3:34528},monthly:{199:34529,299:34530,399:34531,499:34532,999:34533},yearly:{500:34534,1e3:34535,2e3:34536,3500:34537,5e3:34538}},CAD:{once:{500:34539,1e3:34540,2e3:34541,3500:34542,5e3:34543},monthly:{199:34545,299:34546,399:34547,499:34548,999:34549},yearly:{500:34550,1e3:34551,2e3:34552,3500:34553,5e3:34554}},EUR:{once:{500:34555,1e3:34556,2e3:34557,3500:34558,5e3:34559},monthly:{199:34560,299:34561,399:34562,499:34563,999:34564},yearly:{500:34565,1e3:34566,2e3:34567,3500:34568,5e3:34569}},GBP:{once:{500:34570,1e3:34571,2e3:34572,3500:34573,5e3:34574},monthly:{199:34575,299:34576,399:34577,499:34578,999:34579},yearly:{500:34580,1e3:34581,2e3:34582,3500:34583,5e3:34584}},JPY:{once:{500:34585,1e3:34586,1500:34587,3e3:34588,5e3:34589},monthly:{200:34590,300:34591,500:34592,1e3:34593,1500:34594},yearly:{500:34595,1e3:34596,1500:34597,3e3:34598,5e3:34599}},MXN:{once:{1e4:34600,2e4:34601,3e4:34602,5e4:34603,6e4:34604},monthly:{4e3:34605,6e3:34606,8e3:34607,1e4:34608,2e4:34609},yearly:{1e4:34610,2e4:34611,3e4:34612,5e4:34613,6e4:34614}},RUB:{once:{25e3:34615,4e4:34616,5e4:34617,1e5:34618,2e5:34619},monthly:{15e3:34620,25e3:34621,4e4:34622,5e4:34623,1e5:34624},yearly:{25e3:34625,4e4:34626,5e4:34627,1e5:34628,2e5:34629}}}}}};var t;const r=document.getElementById("appeal-form"),o=document.getElementById("appeal-form-frequency"),n=document.getElementById("appeal-form-amount--fixed"),a=document.getElementById("appeal-form-amount--custom");function c(e,t){return"JPY"==e?t:t/100}function s(e,t){const r=adblock.settings.locale,o=c(e,t),n={style:"currency",currency:e},a=Object.assign({},n,{notation:"compact"}),s=Number.isInteger(o)?a:n;return new Intl.NumberFormat(r,s).format(o)}let i=e.Paddle.sandbox;new URLSearchParams(location.search).get("testmode")&&(i=e.Paddle.sandbox),i==e.Paddle.sandbox&&Paddle.Environment.set("sandbox"),Paddle.Setup({vendor:i.vendor});const l=new class{#e;#t;#r;#o;#n;#a;constructor({placeholder:e,paddleConfiguration:t,formConfiguration:r}){this.#e=t,this.#t=r,this.#c(),this.#s(),this.#i(),this.#a=this.#r.querySelector(".appeal-form__error"),e.replaceWith(this.#r)}#c(){this.#r=r.content.cloneNode(!0).firstElementChild,this.#r.querySelector(".appeal-form-header__heading").innerHTML=adblock.strings["appeal-form-header__heading"],this.#r.querySelector(".appeal-form-checkout__submit span").innerHTML=adblock.strings["appeal-form-checkout__submit"],this.#r.addEventListener("submit",(e=>this.#l(e)))}#s(){this.#o=this.#r.querySelector(".appeal-form-header__select");for(const e in this.#e.products){const t=document.createElement("option");t.textContent=e,this.#o.appendChild(t)}this.#o.value=this.#t.currency,this.#o.addEventListener("change",(e=>this.#u(e)))}#i(){this.#n=this.#r.querySelector(".appeal-form-frequencies"),this.#d(this.#t.currency),this.#n.querySelectorAll(".appeal-form-amount__radio")[this.#t.selected].checked=!0,this.#n.addEventListener("focusin",(e=>this.#m(e))),this.#n.addEventListener("input",(e=>this.#p(e)))}#d(e){const t=[];for(const r in this.#e.products[e]){const i=o.content.cloneNode(!0).firstElementChild;i.querySelector(".appeal-form-frequency__heading").innerHTML=adblock.strings[`appeal-form-frequency__heading--${r}`];const l=i.querySelector(".appeal-form-amounts");for(const t in this.#e.products[e][r]){const o=n.content.cloneNode(!0).firstElementChild;o.querySelector(".appeal-form-amount__text").textContent=s(e,t);const a=o.querySelector(".appeal-form-amount__radio");a.value=t,a.dataset.frequency=r,a.dataset.product=this.#e.products[e][r][t],l.appendChild(o)}const u=a.content.cloneNode(!0).firstElementChild,d=u.querySelector(".appeal-form-amount__input");d.placeholder=s(e,Object.keys(this.#e.products[e][r])[3]),d.min=c(e,Object.keys(this.#e.products[e][r])[0]),d.dataset.frequency=r,d.dataset.product="custom",l.appendChild(u),t.push(i)}this.#n.replaceChildren(...t)}#u(e){const t=Array.from(this.#n.querySelectorAll(".appeal-form-amount__input")).map((e=>e.value)),r=Array.from(this.#n.querySelectorAll(".appeal-form-amount__radio")).findIndex((e=>e.checked));this.#d(e.currentTarget.value),this.#n.querySelectorAll(".appeal-form-amount__input").forEach(((e,r)=>e.value=t[r])),this.#n.querySelectorAll(".appeal-form-amount__radio")[r].checked=!0}#h(e){const t=parseFloat(e.value),r=parseFloat(e.min);t&&t<r?(this.#a.innerHTML=adblock.strings[`appeal-form__error--${e.dataset.frequency}`],this.#a.hidden=!1):this.#a.hidden=!0}#m(e){if("number"==e.target.type){const t=e.target.closest(".appeal-form-amount--custom").querySelector(".appeal-form-amount__radio");0==t.checked&&(t.checked=!0)}"number"!=e.target.type&&"radio"!=e.target.type||this.#h(e.target)}#p(e){"number"==e.target.type&&this.#h(e.target)}#f=[];onSubmit(e){this.#f.push(e)}#l(e){e.preventDefault();const t=this.#o.value;let r=this.#n.querySelector(":checked"),o=r.value;"custom"==o&&(r=r.closest(".appeal-form-amount--custom").querySelector(".appeal-form-amount__input"),o=r.value);const n=r.dataset.frequency,a=r.dataset.product;this.#f.forEach((e=>e({currency:t,frequency:n,amount:o,product:a})))}disable(){this.#r.classList.add("appeal-form--disabled"),this.#r.querySelectorAll("input, button").forEach((e=>{e.disabled=!0}))}enable(){this.#r.classList.remove("appeal-form--disabled"),this.#r.querySelectorAll("input, button").forEach((e=>{e.disabled=!1}))}}({paddleConfiguration:i,formConfiguration:e.AppealForm,placeholder:document.querySelector(".appeal-form")});l.onSubmit((e=>{l.disable(),eyeo&&eyeo.payment&&eyeo.payment.shouldStoreContributionInfo&&localStorage.setItem("contributionInfo",JSON.stringify({amount:e.amount,frequency:e.frequency,processor:"paddle",currency:e.currency,lang:document.documentElement.lang,source:eyeo.payment.sourceId||"U",clickTs:Date.now()}));const t={testmode:!1,userid:"",tracking:recordTracking(!0),locale:"",country:"unknown",ga_id:"",premium:"false",premium_cid:"0",premium_sid:"0",currency:e.currency,recurring:"once"!=e.frequency,subType:"once"!=e.frequency?e.frequency:"",experiment:"",experiment_id:"",variant:"",variant_index:-1,amount_cents:parseInt(e.amount,10),success_url:`${location.origin}/payment-complete`,cancel_url:location.href},r=e.product,o={locale:adblock.settings.language,title:adblock.strings["appeal-form-checkout__title"],success:t.success_url,closeCallback:()=>{l.enable()}};"custom"==r?fetch("https://getadblock.appspot.com/paddle/generate-pay-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{Paddle.Checkout.open(Object.assign(o,{override:e.url}))})).catch((e=>adblock.error(e))):Paddle.Checkout.open(Object.assign(o,{allowQuantity:!1,passthrough:t,product:r}))}))})();